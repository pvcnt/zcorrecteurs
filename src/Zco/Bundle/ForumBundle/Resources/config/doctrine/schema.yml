options:
  collate: utf8_unicode_ci
  charset: utf8

ForumAlerte:
  tableName: zcov2_forum_alertes
  columns:
    utilisateur_id:          { type: integer(11) }
    admin_id:                { type: integer(11) }
    sujet_id:                { type: integer(11) }
    date:                    { type: timestamp(25) }
    raison:                  { type: string() }
    resolu:                  { type: boolean }
    ip:                      { type: integer(11) }
  relations:
    Utilisateur:             { local: utilisateur_id, foreign: utilisateur_id }
    Admin:                   { class: Utilisateur, local: admin_id, foreign: utilisateur_id }
    Sujet:                   { class: ForumSujet, local: sujet_id, foreign: sujet_id }

ForumMessage:
  tableName: zcov2_forum_messages
  columns:
    message_id:              { type: integer(11), name: message_id as id, primary: true, autoincrement: true }
    message_sujet_id:        { type: integer(11), name: message_sujet_id as sujet_id }
    message_edite_auteur:    { type: integer(11) }
    message_auteur:          { type: integer(11) }
    message_texte:           { type: string(), name: message_texte as texte }
    message_date:            { type: timestamp(25), name: message_date as date }
    message_edite_date:      { type: timestamp(25), name: message_edite_date as edite_date }
    message_ip:              { type: integer(11), name: message_ip as ip }
    message_help:            { type: boolean, name: message_help as help }
  relations:
    Utilisateur:             { local: message_auteur, foreign: utilisateur_id }
    Editeur:                 { class: Utilisateur, local: message_edite_auteur, foreign: utilisateur_id }
    Sujet:                   { class: ForumSujet, local: sujet_id, foreign: sujet_id }

ForumSujet:
  tableName: zcov2_forum_sujets
  columns:
    sujet_id:                 { type: integer(11), primary: true, autoincrement: true, name: sujet_id as id }
    sujet_forum_id:           { type: integer(11), name: sujet_forum_id as forum_id }
    sujet_titre:              { type: string(150), name: sujet_titre as titre }
    sujet_sous_titre:         { type: string(255), name: sujet_sous_titre as sous_titre }
    sujet_auteur:             { type: integer(11) }
    sujet_date:               { type: timestamp(25), name: sujet_date as date }
    sujet_annonce:            { type: boolean, name: sujet_annonce as annonce }
    sujet_ferme:              { type: boolea, name: sujet_ferme as ferme }
    sujet_resolu:             { type: boolean, name: sujet_resolu as resolu }
    sujet_corbeille:          { type: boolean, name: sujet_corbeille as corbeille }
    sujet_coup_coeur:         { type: boolean, name: sujet_coup_coeur as coup_coeur }
  relations:
    Utilisateur:              { local: sujet_auteur, foreign: utilisateur_id }
    Categorie:                { local: sujet_forum_id, foreign: cat_id }
